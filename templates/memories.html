{% extends 'base.html' %} {% block content %}
<html>
    <head>

    </head>
    <body>
    <h1>Everyone's memories</h1>
  <!-- Modal Structure -->
   <div id="modal1" class="modal">
    <div class="modal-content">
        <div class="first-time memory-card">
            <div class="memory-card-container">


            <div class="row">
            
            
            <div class="col-sm-4">
            
            <img src="https://res.cloudinary.com/machikolacey/image/upload/v1599599037/milestone3/cafe-image_inkqyl.jpg" alt="Cafe Image"  class="cafe-image"   />
            </div>
            <div class="col-sm-8">
            
             <h3>This is a social network site to share your cafe memories.</h3>
            <p>You can just see everyone's cafe memories to find a nice cafe in your area, or you can join to add your memories.
            You can set up private memories as well, so you can keep your special memories safe.</p>

            <h2>Do you want to add your cafe memories?</h2>
            <h3>You will have to register.</h3>
            <a href="{{ url_for('register') }}">
                <button class="waves-effect waves-green btn-flat d-inline">Get Started!</button>
          
            </a>
            <button class="modal-close waves-effect waves-green btn-flat d-inline">Not Now!</button>
            
            
            
            </div>
            </div>
           
            </div>
        </div>
    </div>
  </div>
          


<div class="sorter">
    <div class="row">
        <div class="col-sm-12">
            <ul class="inlineblock">
            <li>Sort by</li>
            <li><a class="sort"  href="{{url_for('get_memories', sort = 'date', order='asc')}}">Oldest first</a></li>
            <li><a class="sort"  href="{{url_for('get_memories', sort = 'date', order='desc')}}">Recent first</a></li>
            <li><a class="sort"  href="{{url_for('get_memories', sort = 'ratings', order='desc')}}">Best rated</a></li>
            <li><a class="sort"  href="{{url_for('get_memories', sort = 'cafe_name', order='asc')}}">Cafe name A-Z</a></li>
            </ul>
        </div>
    </div>
</div>




<div class="row">
 {% for memory in memories %}
    {% if not  memory.is_private  %}
    <div class="col-sm-6">



        <div class="memory-card">
        <div class="date text-center">
           {{memory.date}} 
        </div>
        <div class="row">
           <div class="col-sm-6 text-center">
                 <div class="memory-photo-wrapper">
                 <a href="{{url_for('cafe', cafe_id = memory.cafe_id)}}">
                   <img src="{{memory.photo}}" alt="" class=" memory-photo">
                  </a> 
                    <h2><i class="tiny material-icons">local_cafe</i>{{memory.cafe_name}}</h2>
                    <p> 

         
     

                      </p>
                 </div> 
           </div>
          <div class="col-sm-6"> 

       {% if memory.ratings %} 
             <div class="ratings">
                {% if memory.ratings == "5" %} 
                   <i class="material-icons">star</i><i class="material-icons">star</i>
                    <i class="material-icons">star</i><i class="material-icons">star</i>
                    <i class="material-icons">star</i>
                {% elif memory.ratings == "4" %}
                    <i class="material-icons">star</i><i class="material-icons">star</i>
                    <i class="material-icons">star</i><i class="material-icons">star</i>
                  {% elif memory.ratings == "3" %}
                    <i class="material-icons">star</i><i class="material-icons">star</i>
                    <i class="material-icons">star</i>
                  {% elif memory.ratings == "2" %}
                      <i class="material-icons">star</i><i class="material-icons">star</i>
                  {% elif memory.ratings == "1" %}
                   <i class="material-icons">star</i>
                {% endif %}
                </div>
            {% endif %}

           <div class="cafe-description"><p>{{memory.description}}</p></div> 
                    {% if  memory.user == session.user %}   
                    <div class="user">
                        <p class="yourself d-inline">{{memory.user}}</p>
                        <img src="{{ memory.userphoto }}" class="user_photo d-inline" alt="{{memory.user}} Photo" />
                      </div>
                        {% else %} 
                      <div class="user"> 
                        <p class="d-inline">Posted by:{{memory.user}}</p>
                        <img src="{{ memory.userphoto }}" class="user_photo d-inline" alt="{{memory.user}}" />
                     </div>
                    {% endif %} 
          
           </div>           
          </div>      
        </div>  
    </div>    
   {% endif %} 
{% endfor %}

</div>

 {{ pagination.links }}

    </body>
</html>
{% endblock %}